angular.module("medicosm",["ngRoute","ngAnimate"]).controller("blueCtrl",["$scope",function(e){document.body.className="",e.showDetails=function(){1!=e.medic1?(e.medic1=!e.medic1,document.getElementById("knopkaMed1").className="button highlighted",document.getElementById("knopkaMed4").className="button highlighted",document.getElementById("knopkaMed5").className="button highlighted"):(e.medic1=!e.medic1,document.getElementById("knopkaMed1").className="button",document.getElementById("knopkaMed4").className="button",document.getElementById("knopkaMed5").className="button")}}]).controller("bodyCtrl",["$scope","contactForm","$location","$anchorScroll",function(e,o,t,n){e.removeMe=function(){e.formShowWrite=!1,e.formShowCall=!1},e.makeVisible=function(t){o(t,e)},t.hash("up"),n()}]).controller("formCtrl",["$scope","sendEmail","$timeout",function(e,o,t){e.requestCall=function(n){o(n),e.wasSent=!0,t(function(){e.removeMe()},1500)},e.writeLetter=function(n){o(n),e.wasSent=!0,t(function(){e.removeMe()},1500)}}]).controller("feedbackCtrl",["moveLeaf","$scope","sendEmail","$location","$anchorScroll",function(e,o,t,n,l){e(),o.sentOk=!0,o.sendForm=function(e){o.sentOk=!o.sentOk,t(e)},n.hash("up"),l()}]).factory("sendEmail",["$http",function(e){return function(o){e.post("/sendEmail.php",o).then(function(){console.log("данные прошли")},console.log("произошла ошибка"))}}]).factory("contactForm",function(){function e(e){var o,t;if("email"==e)var t=447,n=document.getElementById("writePop");else if("call"==e)var t=318,n=document.getElementById("callPop");var l=window.innerWidth,c=window.innerHeight,o=540;n.style.top=(c-t)/2+"px",n.style.left=(l-o)/2+"px"}return function(o,t){"email"==o?void 0===t.formShowWrite||t.formShowWrite===!1?(t.formShowWrite=!0,e(o)):(t.formShowWrite=!1,e(o)):"call"==o&&(void 0===t.formShowCall||t.formShowCall===!1?(t.formShowCall=!0,e(o)):(t.formShowCall=!1,e(o)))}});
angular.module("medicosm").config(["$routeProvider","$locationProvider",function(e,t){e.when("/contacts",{templateUrl:"views/contacts.html"}).when("/",{templateUrl:"views/mainPage.html"}).when("/about",{templateUrl:"views/about.html"}).when("/medicine",{templateUrl:"views/medicine.html",controller:"blueCtrl"}).when("/cosmetics",{templateUrl:"views/cosmetics.html"}).when("/vacancy",{templateUrl:"views/vacancy.html"}).when("/sanitary",{templateUrl:"views/sanitary.html"}).when("/contacts",{templateUrl:"views/contacts.html"}).when("/feedback",{templateUrl:"views/feedback.html",controller:"feedbackCtrl"}).when("/certification",{templateUrl:"views/certification.html"}).when("/medicine/perchatki",{templateUrl:"views/construction.html",controller:"blueCtrl"}).when("/cosmetics/perchatki",{templateUrl:"views/construction.html"}).otherwise({templateUrl:"views/construction.html"})}]);
angular.module("medicosm").config(["$httpProvider",function(n){n.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=utf-8",n.defaults.transformRequest=function(n){return angular.isObject(n)&&"[object File]"!==String(n)?angular.toParam(n):n}}]),function(){function n(e,o){var t,a,r=[];for(a in e)t=e[a],a=o?o+"["+a+"]":a,t=null===t?encodeURIComponent(a)+"=":"object"!=typeof t?encodeURIComponent(a)+"="+encodeURIComponent(t):n(t,a),r.push(t);return r.join("&")}angular.extend(angular,{toParam:n})}();
angular.module("medicosm").directive("myFooter",[function(){return{restrict:"E",templateUrl:"/views/footer.html"}}]).directive("myHeader",["$location","$rootScope",function(e,t){function n(n,c,o){function a(e){switch(document.body.style.backgroundPositionY="0",document.body.className="",document.getElementById("bodyDiv").className="",e){case"/vacancy":document.body.style.backgroundPositionY="180px",r.style.backgroundColor="rgb(75, 75, 75)",document.body.className="vacancy";break;case"/feedback#up":document.body.className="feedback",r.style.backgroundColor="rgb(75, 75, 75)",document.getElementById("bodyDiv").className="feedbackLeaves";break;case"/contacts":case"/construction":case"/about":r.style.backgroundColor="rgb(75, 75, 75)";break;case"/":case"/sanitary":r.style.backgroundColor="rgb(102,188,41)";break;case"/medicine":r.style.backgroundColor="rgb(0,84,141)";break;case"/cosmetics":r.style.backgroundColor="rgb(154, 48, 86)";break;default:r.style.backgroundColor="rgb(102,188,41)"}}document.getElementById("hamburger").addEventListener("click",function(e){e.preventDefault();var t=document.getElementById("header-nav");t.classList.contains("active")===!0?t.classList.remove("active"):t.classList.add("active"),this.classList.contains("active")===!0?this.classList.remove("active"):this.classList.add("active")});var r=angular.element(document).find("header")[0];"green"==o.data&&(r.style.backgroundColor="rgb(102,188,41)"),a(e.url()),t.$on("$locationChangeSuccess",function(){a(e.url());document.getElementById("header-nav").classList.remove("active");document.getElementById("hamburger").classList.remove("active")})}return{restrict:"E",templateUrl:"views/header.html",link:n}}]).directive("newsPanel",["$interval","$timeout",function(e,t){function n(e,n,c){function o(e){for(var t=0;t<a.length;t++)!function(){a[t].style.opacity="0",r[t].style.display="none"}(t);a[e].style.opacity="",r[e].style.display=""}var a=n.children()[0].children;if(a.length>1){var r=n.children()[1].children,i=n.children()[2].children[0].children,s=0;o(0),t(function e(){s++,s%=a.length,o(s),t(e,1e4)},1e4);for(var l=0;l<i.length;l++)!function(){var e=l;i[l].addEventListener("click",function(){s=e,o(e)},!1)}(l)}}return{restrict:"E",templateUrl:"/views/directive/newsPanel.html",link:n}}]).factory("moveLeaf",function(){return function(){function e(e,t){if("feedback"==document.body.className){var n=document.body;n.style.backgroundPositionX="0px",n.style.backgroundPositionY="0px";var c,o,a=30;c=-Math.round(a*e/n.clientWidth),o=-Math.round(a*t/n.clientWidth),n.style.backgroundPositionX=c+parseInt(n.style.backgroundPositionX)+"px",n.style.backgroundPositionY=o+parseInt(n.style.backgroundPositionY)+"px"}}document.onmousemove=function(t){var n=t.clientX,c=t.clientY;e(n,c)}}});
